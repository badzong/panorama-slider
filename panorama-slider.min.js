function PSlider(t,e,s){if(this.debug=!1,this.dots=!0,this.dotActive="fa fa-circle",this.dotInactive="fa fa-circle-o",this.dotSize=.04,this.angles=!0,this.angleLeft="fa fa-angle-left",this.angleRight="fa fa-angle-right",this.angleSize=.1,this.interval=8e3,this.currentSlide=0,this.circularBackground=!1,this.circularBackgroundOffset=0,this.height=!1,this.psliderPrefix="pslider-",this.psliderSlider=this.psliderPrefix+"slider",this.psliderFrame=this.psliderPrefix+"frame",this.psliderSlide=this.psliderPrefix+"slide",this.psliderDots=this.psliderPrefix+"dots",this.psliderDot=this.psliderPrefix+"dot",this.psliderAngle=this.psliderPrefix+"angle",this.psliderAngleLeft=this.psliderAngle+"-left",this.psliderAngleRight=this.psliderAngle+"-right",this.psliderActive=this.psliderPrefix+"active",this.psliderInactive=this.psliderPrefix+"inactive",this.psliderHidden=this.psliderPrefix+"hidden",t)for(var d in t)t.hasOwnProperty(d)&&(this[d]=t[d]);if(this.index=e,this.element=$(s),this.frame=$(this.element.children()[0]),this.slides=this.frame.children(),this.slideCount=this.slides.size(),this.element.addClass(this.psliderSlider),this.frame.addClass(this.psliderFrame),this.slides.addClass(this.psliderSlide),this.backgroundUrl=this.element.css("background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0],"none"==this.backgroundUrl)return void this.log("Need background-image");if(this.log("width: "+this.element.width()),this.log("slideCount: "+this.slideCount),this.dots){var h='<div class="'+this.psliderDots+'">';for(i=0;i<this.slideCount;++i)h+='<span class="'+this.psliderInactive+'">',h+='<i class="'+this.psliderActive+" "+this.dotActive+'"></i>',h+='<i class="'+this.psliderInactive+" "+this.dotInactive+'"></i>',h+="</span>";h+="</div>";var l=this;this.element.append(h).find("."+this.psliderDots+" span").click(function(){l.dotClick($(this))})}if(this.angles){this.element.append('<div class="'+this.psliderAngle+" "+this.psliderAngleLeft+'"><i class="'+this.angleLeft+'"></i></div>'),this.element.append('<div class="'+this.psliderAngle+" "+this.psliderAngleRight+'"><i class="'+this.angleRight+'"></i></div>');var n=this.element.find("."+this.psliderAngleLeft),r=this.element.find("."+this.psliderAngleRight),l=this;n.click(function(){l.leftClick()}),r.click(function(){l.rightClick()})}if($().swipe){var l=this;this.element.swipe({swipeLeft:function(i,t,e,s,d){l.rightClick()},swipeRight:function(i,t,e,s,d){l.leftClick()}})}var l=this;$(window).resize(function(){l.load()}),this.backgroundImage=new Image,this.backgroundImage.onload=function(){l.load()},this.backgroundImage.src=this.backgroundUrl}PSlider.prototype.log=function(i){this.debug&&console.log("pslider["+this.index+"]: "+i)},PSlider.prototype.slide=function(i){this.currentSlide=i%this.slideCount;var t=-this.currentSlide*this.element.width();i>this.slideCount-1&&this.circularBackground&&(this.circularBackgroundOffset-=this.slideCount*this.backgroundOffset);var e=-this.currentSlide*this.backgroundOffset+this.circularBackgroundOffset;this.element.css("background-position",e+"px 0"),this.frame.css("margin-left",t+"px"),this.dots&&(this.element.find("."+this.psliderDots+" span."+this.psliderActive).removeClass(this.psliderActive).addClass(this.psliderInactive),$(this.element.find("."+this.psliderDots+" span")[this.currentSlide]).removeClass(this.psliderInactive).addClass(this.psliderActive)),this.angles&&(this.element.find("."+this.psliderAngle).removeClass(this.psliderHidden),0==this.currentSlide&&this.element.find("."+this.psliderAngleLeft).addClass(this.psliderHidden),this.currentSlide==this.slideCount-1&&this.element.find("."+this.psliderAngleRight).addClass(this.psliderHidden))},PSlider.prototype.nextSlide=function(){this.slide(this.currentSlide+1)},PSlider.prototype.leftClick=function(){this.currentSlide>0&&this.slide(this.currentSlide-1),this.play()},PSlider.prototype.rightClick=function(){this.currentSlide<this.slideCount-1&&this.slide(this.currentSlide+1),this.play()},PSlider.prototype.dotClick=function(i){var t=i.index();this.slide(t),this.play()},PSlider.prototype.visible=function(){var i=!1;return"undefined"!=typeof document.hidden?i="hidden":"undefined"!=typeof document.mozHidden?i="mozHidden":"undefined"!=typeof document.msHidden?i="msHidden":"undefined"!=typeof document.webkitHidden&&(i="webkitHidden"),i?!document[i]:!0},PSlider.prototype.play=function(){this.windowInterval&&window.clearInterval(this.windowInterval);var i=this;this.windowInterval=window.setInterval(function(){i.visible()&&i.nextSlide()},this.interval)},PSlider.prototype.start=function(){this.slide(0),this.play()},PSlider.prototype.load=function(){this.log("load"),this.frameWidth=this.element.width()*this.slideCount,this.frame.css("width",this.frameWidth+"px"),this.slides.css("width",this.element.width()+"px"),this.backgroundWidth=this.backgroundImage.width,this.backgroundHeight=this.backgroundImage.height,this.log(this.backgroundUrl+"("+this.backgroundWidth+"x"+this.backgroundHeight+")"),this.backgroundOffset=Math.abs((this.backgroundWidth-this.element.width())/(this.slideCount-1)),this.log("backgroundOffset: "+this.backgroundOffset);var i=parseInt(this.backgroundHeight*this.dotSize);this.element.find("."+this.psliderDots).css("font-size",i+"px");var t=parseInt(this.backgroundHeight*this.angleSize),e={"font-size":t+"px",top:parseInt((this.backgroundHeight-t)/2)+"px"};this.element.find("."+this.psliderAngleLeft).css(e),this.element.find("."+this.psliderAngleRight).css(e),this.height?this.element.css("height",this.height+"px"):this.element.css("height",this.backgroundHeight+"px"),this.slide(this.currentSlide),this.play()},$.fn.pslider=function(i){this.each(function(t,e){var s=new PSlider(i,t,e);s.start()})};