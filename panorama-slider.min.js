function PSlider(e,t,n){this.debug=false;this.dots=true;this.dotActive="fa fa-circle";this.dotInactive="fa fa-circle-o";this.dotSize=.04;this.angles=true;this.angleLeft="fa fa-angle-left";this.angleRight="fa fa-angle-right";this.angleSize=.1;this.interval=8e3;this.currentSlide=0;this.circularBackground=false;this.circularBackgroundOffset=0;this.height=false;this.psliderPrefix="pslider-";this.psliderSlider=this.psliderPrefix+"slider";this.psliderFrame=this.psliderPrefix+"frame";this.psliderSlide=this.psliderPrefix+"slide";this.psliderDots=this.psliderPrefix+"dots";this.psliderDot=this.psliderPrefix+"dot";this.psliderAngle=this.psliderPrefix+"angle";this.psliderAngleLeft=this.psliderAngle+"-left";this.psliderAngleRight=this.psliderAngle+"-right";this.psliderActive=this.psliderPrefix+"active";this.psliderInactive=this.psliderPrefix+"inactive";this.psliderHidden=this.psliderPrefix+"hidden";if(e){for(var r in e){if(e.hasOwnProperty(r)){this[r]=e[r]}}}this.index=t;this.element=$(n);this.frame=$(this.element.children()[0]);this.slides=this.frame.children();this.slideCount=this.slides.size();this.element.addClass(this.psliderSlider);this.frame.addClass(this.psliderFrame);this.slides.addClass(this.psliderSlide);this.backgroundUrl=this.element.css("background-image").replace(/url\((['"])?(.*?)\1\)/gi,"$2").split(",")[0];if(this.backgroundUrl=="none"){this.log("Need background-image");return}this.log("width: "+this.element.width());this.log("slideCount: "+this.slideCount);if(this.dots){var s='<div class="'+this.psliderDots+'">';for(i=0;i<this.slideCount;++i){s+='<span class="'+this.psliderInactive+'">';s+='<i class="'+this.psliderActive+" "+this.dotActive+'"></i>';s+='<i class="'+this.psliderInactive+" "+this.dotInactive+'"></i>';s+="</span>"}s+="</div>";var o=this;this.element.append(s).find("."+this.psliderDots+" span").click(function(){o.dotClick($(this))})}if(this.angles){this.element.append('<div class="'+this.psliderAngle+" "+this.psliderAngleLeft+'"><i class="'+this.angleLeft+'"></i></div>');this.element.append('<div class="'+this.psliderAngle+" "+this.psliderAngleRight+'"><i class="'+this.angleRight+'"></i></div>');var u=this.element.find("."+this.psliderAngleLeft);var a=this.element.find("."+this.psliderAngleRight);var o=this;u.click(function(){o.leftClick()});a.click(function(){o.rightClick()})}if($().swipe){var o=this;this.element.swipe({swipeLeft:function(e,t,n,r,i){o.rightClick()},swipeRight:function(e,t,n,r,i){o.leftClick()}})}var o=this;$(window).resize(function(){o.load()});this.backgroundImage=new Image;this.backgroundImage.onload=function(){o.load()};this.backgroundImage.src=this.backgroundUrl}PSlider.prototype.log=function(e){if(this.debug){console.log("pslider["+this.index+"]: "+e)}};PSlider.prototype.slide=function(e){this.currentSlide=e%this.slideCount;var t=-this.currentSlide*this.element.width();if(e>this.slideCount-1&&this.circularBackground){this.circularBackgroundOffset-=this.slideCount*this.backgroundOffset}var n=-this.currentSlide*this.backgroundOffset+this.circularBackgroundOffset;this.element.css("background-position",n+"px 0");this.frame.css("margin-left",t+"px");if(this.dots){this.element.find("."+this.psliderDots+" span."+this.psliderActive).removeClass(this.psliderActive).addClass(this.psliderInactive);$(this.element.find("."+this.psliderDots+" span")[this.currentSlide]).removeClass(this.psliderInactive).addClass(this.psliderActive)}if(this.angles){this.element.find("."+this.psliderAngle).removeClass(this.psliderHidden);if(this.currentSlide==0){this.element.find("."+this.psliderAngleLeft).addClass(this.psliderHidden)}if(this.currentSlide==this.slideCount-1){this.element.find("."+this.psliderAngleRight).addClass(this.psliderHidden)}}};PSlider.prototype.nextSlide=function(){this.slide(this.currentSlide+1)};PSlider.prototype.leftClick=function(){if(this.currentSlide>0){this.slide(this.currentSlide-1)}this.play()};PSlider.prototype.rightClick=function(){if(this.currentSlide<this.slideCount-1){this.slide(this.currentSlide+1)}this.play()};PSlider.prototype.dotClick=function(e){var t=e.index();this.slide(t);this.play()};PSlider.prototype.play=function(){if(this.windowInterval){window.clearInterval(this.windowInterval)}var e=this;this.windowInterval=window.setInterval(function(){e.nextSlide()},this.interval)};PSlider.prototype.start=function(){this.slide(0);this.play()};PSlider.prototype.load=function(){this.log("load");this.frameWidth=this.element.width()*this.slideCount;this.frame.css("width",this.frameWidth+"px");this.slides.css("width",this.element.width()+"px");this.backgroundWidth=this.backgroundImage.width;this.backgroundHeight=this.backgroundImage.height;this.log(this.backgroundUrl+"("+this.backgroundWidth+"x"+this.backgroundHeight+")");this.backgroundOffset=Math.abs((this.backgroundWidth-this.element.width())/this.slideCount);this.log("backgroundOffset: "+this.backgroundOffset);var e=parseInt(this.backgroundHeight*this.dotSize);this.element.find("."+this.psliderDots).css("font-size",e+"px");var t=parseInt(this.backgroundHeight*this.angleSize);var n={"font-size":t+"px",top:parseInt((this.backgroundHeight-t)/2)+"px"};this.element.find("."+this.psliderAngleLeft).css(n);this.element.find("."+this.psliderAngleRight).css(n);if(this.height){this.element.css("height",this.height+"px")}else{this.element.css("height",this.backgroundHeight+"px")}this.slide(this.currentSlide);this.play()};$.fn.pslider=function(e){this.each(function(t,n){var r=new PSlider(e,t,n);r.start()})}
